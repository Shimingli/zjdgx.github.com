<!doctype html>
<html><!-- InstanceBegin template="/Templates/zjdgx-notes.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="author" content="zjdgx" />
<!-- InstanceBeginEditable name="doctitle" -->
<meta name="description" content="2.6.2 Notification"/>
<meta name="date" content="20140423" />
<title>zjdgx notes</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<style type="text/css">
	html,body{
		background-color: #fff;
	}
	li{
		list-style: none;
	}
	.main{
		font: 12px/1.8 'microsoft yahei',courier new,times new roman;
	}
	.code {
		margin: 0;
		padding: 5px 10px;
		background-color:#e8e8e8;
		font-family: "Courier New", Courier, monospace;
	}
	pre.code {
		margin: 0.5em 0;
		line-height: 150%;
		padding: 0.4em 0.6em;
	}
	ol li {
		list-style: decimal;
	}
	.main h1{
		margin: 0;
		font-size: 14px;
		font-weight: normal;
	}
	.main h1 a {
		margin-left: 20px;
	}
	.main .point {
		height: 24px;
		line-height: 24px;
		padding-left: 5px;
		margin: 5px 0 5px 2em;
		background-color: #f8f8f8;
	}
	.main table {
		margin-left: 2em;
		border-spacing: 0;
		border-collapse: collapse;
	}
	.main table th,.main table td{
		height: 24px;
		padding: 0 10px;
		line-height: 24px;
		border: 1px solid #ccc;
	}
	.main h2 {
		margin: 0;
		margin-top: 10px;
		margin-left: 2em;
		font-weight: normal;
		font-size: 12px;
	}
	.main ol {
		margin: 0;
		margin-left: 2em;
	}
</style>
<!-- InstanceEndEditable -->
</head>
<body>
	<div class="main">
		<!-- InstanceBeginEditable name="content" -->
		<h1>2.6.2 Notification的功能与用法(P143)<a class="code" href="../../code/chap2/2.6/P144_NotificationActivity.java" >代码</a></h1>
		<p class="point">Notification是显示在手机状态栏的消息, 一般通过NotificationManager服务来发送Notification.</p>
		<h2>Notification使用步骤:</h2>
		<ol>
			<li>调用getSystemService(NOTIFICATION_SERVICE)方法获取系统的NotificationManager服务;</li>
			<li>通过构造器创建一个Notification对象;</li>
			<li>为Notification对象设置属性;</li>
			<li>通过NotificationManager发送Notification.</li>
		</ol>
		<h2>Notificaiton的defaults属性:</h2>
		<ol>
			<li>DEFAULT_SOUND: 设置使用默认声音;</li>
			<li>DEFAULT_VIBRATE: 设置使用默认震动;</li>
			<li>DEFAULT_LIGHTS: 设置使用默认闪光灯;</li>
			<li>ALL: 设置使用默认声音、震动、闪光灯.</li>
		</ol>
		<p class="indent2">
			1. 创建一个启动其他Activity的Intent: <br>
				&nbsp;&nbsp;&nbsp;&nbsp;Intent intent = new Intent(xx.this, xxxxxActivity.class);<br>
				&nbsp;&nbsp;&nbsp;&nbsp;PendingIntent pi = PendingIntent.getActivity(xx.this, 0, intent, 0);
		</p>
		<p class="indent2">
			2. 设置事件信息<br>
			&nbsp;&nbsp;&nbsp;&nbsp;notification.setLatestEventInfo(xx.this,"xx","x", pi);
		</p>
		<p class="code">
			// 设置自定义声音<br>
			notification.sound=Uri.parse("file:///sdcard/xxx.mp3");<br>
			// 设置自定义震动<br>
			notification.vibrate = new long[]{0, 50, 100, 150};<br>
			// 设置闪光灯颜色为红色<br>
			notification.ledARGB = 0xffff0000;<br>
			// 设置闪光灯多少毫秒后熄灭<br>
			notification.ledOffMS = 800;<br>
			// 设置闪光灯多少毫秒后开启<br>
			notificaiton.ledOnMs = 900;
		</p>
		<!-- InstanceEndEditable -->
	</div>
</body>
<!-- InstanceEnd --></html>
