<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <div class="markdown_views">
    <h2 id="一httpload"><a name="t0"></a>一、http_load</h2>

<p>程序非常小，解压后也不到100K <br>
http_load以并行复用的方式运行，用以<a href="http://lib.csdn.net/base/softwaretest" class="replace_word" title="软件测试知识库" target="_blank" style="color:#df3434; font-weight:bold;">测试</a>web服务器的吞吐量与负载。 <br>
但是它不同于大多数压力测试工具，它可以以一个单一的进程运行，一般不会把客户机搞死。 <br>
还可以测试HTTPS类的网站请求。 <br>
下载地址：http_load-12mar2006.tar.gz <br>
<strong>安装很简单</strong></p>

<pre class="prettyprint" name="code"><code class="hljs vala has-numbering"><span class="hljs-preprocessor">#tar zxvf http_load-12mar2006.tar.gz</span>
<span class="hljs-preprocessor">#cd http_load-12mar2006</span>
<span class="hljs-preprocessor">#make &amp;&amp; make install</span></code><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li></ul></pre>

<p><strong>基本用法：</strong></p>

<pre class="prettyprint" name="code"><code class="hljs lasso has-numbering">http_load  <span class="hljs-attribute">-p</span> 并发访问进程数  <span class="hljs-attribute">-s</span> 访问时间  需要访问的URL文件</code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>

<p>参数其实可以自由组合，参数之间的选择并没有什么限制。 <br>
比如你写成http_load  -parallel  5  -seconds  300  urllist.txt也是可以的。 <br>
我们把参数给大家简单说明一下。 <br>
-parallel   简写-p ：含义是并发的用户进程数。 <br>
-fetches   简写-f ：含义是总计的访问次数 <br>
-rate        简写-p ：含义是每秒的访问频率 <br>
-seconds 简写-s ：含义是总计的访问时间 <br>
准备URL文件：urllist.txt，文件格式是每行一个URL，URL最好超过50－100个测试效果比较好。 <br>
<strong>文件格式如下：</strong></p>

<pre class="prettyprint" name="code"><code class="hljs avrasm has-numbering"><span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/blog/
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/signin/
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/signup/
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/a-quick-look-at-the-redis-source-code<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/how-the-browser-end-encryption<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/jquery-form-validation-plug-<span class="hljs-keyword">in</span>-validate<span class="hljs-preprocessor">.js</span>-the-basic-usage<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/use-flash-plugin-swfupload-head-is-upload-the-screenshot-<span class="hljs-keyword">in</span>-two-ways<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/should-make-your-site-using-html5<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/simple-to-understand-linux-memory-allocation-mechanism<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/organize-the-sphinx-api-based-on-php<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/jquery-<span class="hljs-number">1</span>-<span class="hljs-number">9</span>-removed-browser-method-alternatives<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/the-installation-of-fedora-under-chinese-search-sphinx-configuration<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/schema-org-tag-was-used-to-optimize-web-pages<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/jquery-reference-manual-tutorials-<span class="hljs-keyword">and</span>-tools<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/falling-<span class="hljs-keyword">in</span>-love-with-bike-<span class="hljs-number">30</span>-reasons<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/online-test-tools-browserstack-cross-browser-compatibility<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/talk-about-javascript-image-preloading-technology<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/brokeback-mountain<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/sql-index-caused-performance-issues<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/use-python-scapy-reporter<span class="hljs-preprocessor">.html</span>
<span class="hljs-label">http:</span>//www<span class="hljs-preprocessor">.qixing</span>318<span class="hljs-preprocessor">.com</span>/article/a-python-web-attack-script<span class="hljs-preprocessor">.html</span></code><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li></ul><div class="save_code tracking-ad" data-mod="popu_249" style="display: none;"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li></ul></pre>

<p><strong>例如：</strong></p>

<pre class="prettyprint" name="code"><code class="hljs lasso has-numbering">http_load <span class="hljs-attribute">-p</span> <span class="hljs-number">30</span> <span class="hljs-attribute">-s</span> <span class="hljs-number">60</span>  urllist<span class="hljs-built_in">.</span>txt</code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>

<p>参数了解了，我们来看运行一条命令来看看它的返回结果如下： <br>
<img src="http://img.blog.csdn.net/20160912185324732" alt="这里写图片描述" title=""> <br>
<strong>结果分析：</strong></p>

<p>1、294 fetches, 30 max parallel, 3.83835e+06 bytes, in 60.0026 seconds <br>
说明在上面的测试中运行了294个请求，最大的并发进程数是30，总计传输的数据是3.83835e+06bytes，运行的时间是60.0026秒 <br>
2、13055.6 mean bytes/connection <br>
说明每一连接平均传输的数据量3.83835e+06/294=13055.6 <br>
3、4.89979 fetches/sec, 63969.7 bytes/sec <br>
说明每秒的响应请求为4.89979，每秒传递的数据为63969.7 bytes/sec <br>
4、msecs/connect: 312.009 mean, 1319.57 max, 209.994 min <br>
说明每连接的平均响应时间是312.009 msecs，最大的响应时间1319.57 msecs，最小的响应时间209.994 msecs <br>
5、msecs/first-response: 1191.01 mean, 10212.4 max, 220.78 min <br>
6、HTTP response codes:  <br>
    code 200  –  127  <br>
    code 502  –  166 <br>
说明打开响应页面的类型 <br>
如果403的类型过多，那可能要注意是否系统遇到了瓶颈。 <br>
特殊说明： <br>
测试结果中主要的指标是 fetches/sec、msecs/connect 这个选项，即服务器每秒能够响应的查询次数。 <br>
用这个指标来衡量性能。似乎比 apache的ab准确率要高一些，也更有说服力一些。 <br>
Qpt-每秒响应用户数和response time，每连接响应用户时间。 <br>
测试的结果主要也是看这两个值。 <br>
当然仅有这两个指标并不能完成对性能的分析，我们还需要对服务器的cpu、men进行分析，才能得出结论。</p>



<h2 id="二webbench"><a name="t1"></a>二、webbench</h2>

<p>webbench是<a href="http://lib.csdn.net/base/linux" class="replace_word" title="Linux知识库" target="_blank" style="color:#df3434; font-weight:bold;">Linux</a>下的一个网站压力测试工具，最多可以模拟3万个并发连接去测试网站的负载能力。 <br>
下载地址可以到google搜，我这里给出一个 <br>
下载地址：<a href="http://soft.vpser.net/test/webbench/webbench-1.5.tar.gz">http://soft.vpser.net/test/webbench/webbench-1.5.tar.gz</a> <br>
这个程序更小，解压后不到50K，呵呵 <br>
<strong>安装非常简单</strong></p>



<pre class="prettyprint" name="code"><code class="hljs vala has-numbering"><span class="hljs-preprocessor">#tar zxvf webbench-1.5.tar.gz</span>
<span class="hljs-preprocessor">#cd webbench-1.5</span>
<span class="hljs-preprocessor">#make &amp;&amp; make install</span></code><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li></ul></pre>

<p>会在当前目录生成webbench可执行文件，直接可以使用了 <br>
用法：webbench -c 并发数 -t 运行测试时间 URL <br>
例如：</p>

<pre class="prettyprint" name="code"><code class="hljs lasso has-numbering"><span class="hljs-variable">#webbench</span> <span class="hljs-attribute">-c</span> <span class="hljs-number">1000</span> <span class="hljs-attribute">-t</span> <span class="hljs-number">130</span> http:<span class="hljs-comment">//www.qixing318.com</span></code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>



<h2 id="三ab"><a name="t2"></a>三、ab</h2>

<p>ab是apache自带的一款功能强大的测试工具。 <br>
安装了apache一般就自带了。 <br>
用法可以查看它的说明</p>



<pre class="prettyprint" name="code"><code class="hljs vala has-numbering"><span class="hljs-preprocessor">#./ab</span></code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>

<p><img src="http://img.blog.csdn.net/20160912185502893" alt="这里写图片描述" title=""> <br>
参数众多，一般我们用到的是-n 和-c <br>
例如：</p>

<pre class="prettyprint" name="code"><code class="hljs lasso has-numbering"><span class="hljs-variable">#webbench</span> <span class="hljs-attribute">-c</span> <span class="hljs-number">1000</span> <span class="hljs-attribute">-t</span> <span class="hljs-number">130</span> http:<span class="hljs-comment">//www.qixing318.com/index.php</span></code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>

<p>这个表示同时处理1000个请求并运行130次index.<a href="http://lib.csdn.net/base/php" class="replace_word" title="PHP知识库" target="_blank" style="color:#df3434; font-weight:bold;">PHP</a>文件。</p>



<h2 id="四siege"><a name="t3"></a>四、Siege</h2>

<p>一款开源的压力测试工具，可以根据配置对一个WEB站点进行多用户的并发访问，记录每个用户所有请求过程的相应时间，并在一定数量的并发访问下重复进行。 <br>
Siege官方：<a href="http://www.joedog.org/">http://www.joedog.org/</a> <br>
Siege下载：<a href="http://www.joedog.org/pub/siege/siege-latest.tar.gz">http://www.joedog.org/pub/siege/siege-latest.tar.gz</a> <br>
Siege解压并安装：</p>



<pre class="prettyprint" name="code"><code class="hljs vala has-numbering"><span class="hljs-preprocessor"># tar -zxvf siege-latest.tar.gz</span>
<span class="hljs-preprocessor"># cd siege-latest/</span>
<span class="hljs-preprocessor">#./configure</span>
<span class="hljs-preprocessor">#make</span>
<span class="hljs-preprocessor">#make install</span></code><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ul></pre>

<p><strong>Siege使用:</strong></p>

<pre class="prettyprint" name="code"><code class="hljs lasso has-numbering"><span class="hljs-variable">#siege</span> <span class="hljs-attribute">-c</span> <span class="hljs-number">100</span> <span class="hljs-attribute">-r</span> <span class="hljs-number">10</span> <span class="hljs-attribute">-f</span> site<span class="hljs-built_in">.</span>url</code><ul class="pre-numbering"><li>1</li></ul><div class="save_code tracking-ad" data-mod="popu_249"><a href="javascript:;" target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png"></a></div><ul class="pre-numbering"><li>1</li></ul></pre>

<p>-c是并发量，-r是重复次数。  <br>
url文件就是一个文本，每行都是一个url，它会从里面随机访问的。 <br>
site.url内容: <br>
<a href="http://www.qixing318.com/">http://www.qixing318.com/</a> <br>
<a href="http://www.zendsns.com/">http://www.zendsns.com/</a> <br>
<a href="http://www.qixing.info/">http://www.qixing.info/</a> <br>
<strong>测试结果:</strong> <br>
<img src="http://img.blog.csdn.net/20160912185641205" alt="这里写图片描述" title=""> <br>
<strong>结果说明：</strong> <br>
Transactions: 550 hits //完成550次处理 <br>
Availability: 55.00 % //55.00 % 成功率 <br>
Elapsed time: 31.32 secs //总共用时 <br>
Data transferred: 1.15 MB //共数据传输1.15 MB <br>
Response time: 3.04 secs //显示网络连接的速度 <br>
Transaction rate: 17.56 trans/sec //均每秒完成 17.56 次处理：表示服务器后 <br>
Throughput: 0.04 MB/sec //平均每秒传送数据 <br>
Concurrency: 53.44 //实际最高并发数 <br>
Successful transactions: 433 //成功处理次数 <br>
Failed transactions: 450 //失败处理次数 <br>
Longest transaction: 15.50 //每次传输所花最长时间 <br>
Shortest transaction: 0.42 //每次传输所花最短时间</p>

<hr>

<p>文章转自<a href="http://www.qixing318.com/article/introduce-a-few-web-server-performance-pressure-testing-tools.html">http://www.qixing318.com/article/introduce-a-few-web-server-performance-pressure-testing-tools.html</a></p></div>
  <script type="text/javascript" src="/dist/javascript/frame.js"></script>
</body>
</html>