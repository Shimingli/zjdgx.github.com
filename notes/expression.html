<!doctype html>
<html><!-- InstanceBegin template="/Templates/zjdgx-notes.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="author" content="zjdgx" />
<!-- InstanceBeginEditable name="doctitle" -->
<meta name="description" content="javascript 常用正则表达式"/>
<meta name="date" content="20140326" />
<title>常用正则表达式</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<style type="text/css">
	html,body{
		background-color: #fff;
	}
	li{
		list-style: none;
	}
	.main{
		font: 12px/1.8 'microsoft yahei',courier new,times new roman;
	}
	.code {
		margin: 0;
		padding: 5px 10px;
		background-color:#e8e8e8;
		font-family: "Courier New", Courier, monospace;
	}
	pre.code {
		margin: 0.5em 0;
		line-height: 150%;
		padding: 0.4em 0.6em;
	}
	ol li {
		list-style: decimal;
	}
</style>
<!-- InstanceEndEditable -->
</head>
<body>
	<div class="main">
		<!-- InstanceBeginEditable name="content" -->
		<ol>
			<li>匹配汉字: <p class="code">[\u4e00-\u9fa5]</p></li>
			<li>匹配双字节字符(包括汉字在内): <p class="code">[^\x00-\xff]</p></li>
			<li>计算字符串的长度: 
				<pre class="code">
String.prototype.len=function(){
     return this.replace([^\x00-\xff]/g,"aa").length;
}
				</pre>
			</li>
			<li>匹配空行:<p class="code">\n[\s|]*\r</p></li>
			<li>匹配HTML标记:<p class="code">/<(.*)>.*<\/\1>|<(.*) \/>/</p></li>
			<li>匹配首尾空格:<p class="code">(^\s*)|(\s*$)</p></li>
			<li>匹配IP地址:
				<pre class="code">
function IP2V(ip) {
    var re=/(\d+)\.(\d+)\.(\d+)\.(\d+)/g;  //匹配IP地址的正则表达式
    if(re.test(ip)) {
        return RegExp.$1*Math.pow(255,3))+RegExp.$2*Math.pow(255,2))+RegExp.$3*255+RegExp.$4*1;
    } else {
        throw new Error("Not a valid IP address!");
    }
}
				</pre>
			</li>
			<li>匹配Email地址:
				<p class="code">\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*<br/>
				^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$</p>
			</li>
			<li>限制只能输入中文:<p class="code">onkeyup="value=value.replace(/[^\u4E00-\u9FA5]/g,'')"<br/> onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^\u4E00-\u9FA5]/g,''))"</p></li>
			<li>限制只能输入数字:<p class="code">onkeyup="value=value.replace(/[^\d]/g,'')<br/> "onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^\d]/g,''))"</p></li>
			<li>限制只能输入数字和英文:<p class="code">onkeyup="value=value.replace(/[\W]/g,'')<br/> "onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^\d]/g,''))"</li>
			<li>匹配国内电话号码:<p class="code">d{3}-d{8}|d{4}-d{7}<br/>匹配形式如 0511-4405222 或 021-87888822</p></li>
			<li>匹配帐号是否合法:<p class="code">^[a-zA-Z][a-zA-Z0-9_]{4,15}$<br/>字母开头，允许5-16字节，允许字母数字下划线</p></li>
		</ol>
		<table border="1" cellpadding="0" cellspacing="0">
			<caption>常用正则表达式</caption>
			<thead>
				<tr><th>功能</th><th>代码</th><th>描述</th></tr>
			</thead>
			<tbody>
				<tr><td>匹配正整数</td><td>^[1-9]d*$</td><td></td></tr>
				<tr><td>匹配负整数</td><td>^-[1-9]d*$</td><td></td></tr>
				<tr><td>匹配整数</td><td>^-?[1-9]d*$</td><td></td></tr>
				<tr><td>只能输入数字</td><td>^[0-9]*$</td><td></td></tr>
				<tr><td>只能输入n位的数字</td><td>^d{n}$</td><td></td></tr>
			</tbody>
		</table>
		<!-- InstanceEndEditable -->
	</div>
</body>
<!-- InstanceEnd --></html>
