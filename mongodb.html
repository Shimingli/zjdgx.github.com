<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/zjdgx.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="imagetoolbar" content="no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="description" content="前端学习网站"/>
<meta name="keywords" content="ZJDGX前端学习,CSS,HTML5,JAVASCRIPT" />
<!-- InstanceBeginEditable name="createDate" -->
<meta name="date" content="20130922" />
<!-- InstanceEndEditable -->
<meta name="author" content="zjdgx" />
<title>zjdgx前端学习</title>
<!-- InstanceBeginEditable name="stylesheets" -->
<link rel="stylesheet" type="text/css" href="common/style/pages.css" />
<style type="text/css">
	.code {
		margin-left: 2em;
		padding: 5px 10px;
	}
	#mongodb .content ul li {
		margin-top: 10px;
	}
	.importantIssue h2 {
		color: #f00;
		font-weight: bold;
	}
	.startMongoDB {
		margin-left: 2em;
	}
	.indent2 {
		margin-left: 2em;
	}
</style>
<!-- InstanceEndEditable -->
</head>
<!-- InstanceBeginEditable name="typeClass" -->
<body id="mongodb">
<!-- InstanceEndEditable -->
	<div class="header">
		<div class="logo">ZJDGX</div>
		<ul class="nav">
	        <!-- InstanceBeginEditable name="nav" -->
			<li><a href="study.html">Study</a></li>
			<li><a href="css.html">CSS</a></li>
			<li><a href="javascript.html">Javascript</a></li>
			<li title="Android"><a href="android.html">Android</a></li>
            <li class="cur" title="MongoDB"><a href="mongodb.html">MongoDB</a></li>
			<li title="MySQL"><a href="MySQL.html">MySQL</a></li>
            <li title="杂记"><a href="notes.html">Notes</a></li>
			<li><a href="interview.html">Interview</a></li>
			<li title="学习网站"><a href="address.html">Address</a></li>
			<li title="学习资源"><a href="source.html">Source</a></li>
			<li title="备忘录"><a href="Memo.html">Memo</a></li>
            <!-- InstanceEndEditable -->
		</ul>
		<div class="clock">
			<label class="year"><span></span>年</label>
			<label class="month"><span></span>月</label>
			<label class="day"><span></span>日</label>
			<label class="hour"><span></span>点</label>
			<label class="minute"><span></span>分</label>
			<label class="second"><span></span>秒</label>
		</div>
	</div>
	<div class="main">
		<div class="fixHeight">
			<div class="content">
            <!-- InstanceBeginEditable name="content" -->
			<div class="importantIssue">
				<h2>注意事项</h2>
				1. MongoDB数据库名字区分大小写<br/>
				2. aggregate中的$group的_id必须有<br/>
				3. MongoDB配置:<br date='2015/01/04'/>
				<p class='startMongoDB'>(1).启动mongodb服务<br/>
				&nbsp;&nbsp;&nbsp;mongod --dbpath E:\zjdgx\MongoDB\data --logpath=E:\zjdgx\MongoDB\logs\mongodb.log --logappend --directoryperdb --serviceName MongoDB --install<br/>
				&nbsp;&nbsp;&nbsp;net start mongodb<br/>
				(2).命令行(cmd)创建collection<br/>
				&nbsp;&nbsp;&nbsp;use collectionName--->db.addUser('name','password')<br/>
				(3).Robomongo创建连接<br/>
				&nbsp;&nbsp;&nbsp;在Authentication中输入collectionName, userName and password
				</p>
			</div>
			<ul>
				<li>
					<h2>1. 显示数据表</h2>
					<pre class="code">
show collections</pre>
				</li>
				<li>
					<h2>2. count</h2>
					<pre class='code'>
db['***'].count({datetime:{"$gte":ISODate("2014-11-15T01:23:36.072Z")}})
db['***'].find({datetime:{"$gte":ISODate("2014-11-15T01:23:36.072Z")}}).count()
__in shared collection__:
	db['***'].aggregate([
		{ $group: { _id: null, count: { $sum: 1 } } }
	])
	db['***'].aggregate([
		{ $match: {datetime:{"$gte":ISODate("2014-11-15T01:23:36.072Z")}} },
		{ $group: { _id: null, count: { $sum: 1 } } }
	])</pre>
				</li>
				<li>
					<h2>3. collection.insert安全模式</h2>
					<pre class="code">
{safe: true}</pre>
					<span class='indent2'>在查询语句中声明{safe:true}表明你想让数据库操作在执行回调之前完成. 可用{}关闭安全模式</span>
				</li>
				<li>
					<h2>4. MongoDB connection url style</h2>
					<pre class="code">mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/database]?property1=value&property2=value</pre>
				</li>
			</ul>
            <!-- InstanceEndEditable -->
            </div>
	    </div>
    </div>
    <div class="footer">
    	<!-- InstanceBeginEditable name="footer" -->
		<a href="">首页</a>&nbsp;|&nbsp;<a herf="">学习网址</a>&nbsp;|&nbsp;<a herf="">作品展示</a>
        <!-- InstanceEndEditable -->
	</div>
	<!-- InstanceBeginEditable name="hidecode" -->
	<div class="hidecode">
		<script type="text/javascript" src="common/script/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="common/script/common.js"></script>
		<!-- 百度统计代码 -->
		<script type="text/javascript">
		var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
		document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F51d4c44eb3ae5dac5f72685b8b50e23f' type='text/javascript'%3E%3C/script%3E"));
		</script>
		<!-- google 统计代码 -->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-43440970-2', 'scymhj.com');
		  ga('send', 'pageview');
		</script>
	</div>
	<!-- InstanceEndEditable -->
</body>
<!-- InstanceEnd --></html>
